import{r,b as w,u as j,c as l,s as _,d as E,e as F,j as s,L as I,l as N}from"./index-Bmanl6Pj.js";import{u as f,F as c,o as L,c as y,a as d}from"./FormInput-Csklebaq.js";const W="_loginWrapper_199p9_1",v="_loginForm_199p9_8",P="_loginButtonWrapper_199p9_15",S="_loginContainer_199p9_24",e={loginWrapper:W,loginForm:v,loginButtonWrapper:P,loginContainer:S},q=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,B=y().shape({email:d().email("Invalid email format").required("E-mail is required"),password:d().matches(q,"Password must be at least 8 characters, containing uppercase, lowercase, and a digit.").max(20,"Password must be at most 20 characters").required("Password is required")}),C={email:"",password:""},A=()=>{const m=r.useId(),p=r.useId(),a=w(),u=j(),t=l(_),o=l(E),{register:i,handleSubmit:g,reset:h,formState:{errors:n}}=f({resolver:L(B),defaultValues:C});r.useEffect(()=>()=>{a(F())},[a]);const x=async b=>{try{await a(N(b)).unwrap(),h(),u("/calculator")}catch{}};return s.jsx("div",{className:e.loginContainer,children:s.jsxs("div",{className:e.loginWrapper,children:[s.jsx("h2",{className:"auth-title",children:"LOG IN"}),s.jsxs("form",{onSubmit:g(x),className:e.loginForm,children:[s.jsx(c,{id:m,label:"E-mail",type:"email",placeholder:"Email *",register:i("email"),error:n.email?.message}),s.jsx(c,{id:p,label:"Password",type:"password",placeholder:"Password *",register:i("password"),error:n.password?.message}),o&&s.jsx("p",{className:e.authErrorMessage,children:o}),s.jsxs("div",{className:e.loginButtonWrapper,children:[s.jsx("button",{type:"submit",disabled:t,className:"btn-primary",children:t?"Loading...":"Log In"}),s.jsx(I,{to:"/register",children:s.jsx("button",{type:"button",className:"btn-secondary",children:"Register"})})]})]})]})})},R=()=>s.jsx(A,{});export{R as default};
