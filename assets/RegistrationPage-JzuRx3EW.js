import{b as w,c as l,s as _,d as E,r as s,e as F,j as e,L as I,f as N}from"./index-CHTba5cK.js";import{u as f,F as o,o as y,c as R,a as n}from"./FormInput-Ce_2Mpps.js";const W="_registerWrapper_13bln_1",P="_registerForm_13bln_8",S="_registerButtonWrapper_13bln_15",q="_registerContainer_13bln_24",r={registerWrapper:W,registerForm:P,registerButtonWrapper:S,registerContainer:q},L=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,v=R().shape({name:n().required("Required"),email:n().email("Invalid email address").required("Required"),password:n().matches(L,"Password must be at least 8 characters, containing uppercase, lowercase, and a digit.").max(20,"Password must be at most 20 characters").required("Password is required")}),C={name:"",email:"",password:""},B=()=>{const a=w(),c=l(_),d=l(E),m=s.useId(),p=s.useId(),u=s.useId(),{register:t,handleSubmit:g,reset:h,formState:{errors:i}}=f({resolver:y(v),defaultValues:C,mode:"onChange"});s.useEffect(()=>()=>{a(F())},[a]);const b=async x=>{const{...j}=x;try{await a(N(j)).unwrap(),h()}catch{}};return e.jsx("div",{className:r.registerContainer,children:e.jsxs("div",{className:r.registerWrapper,children:[e.jsx("h2",{className:"auth-title",children:"REGISTER"}),e.jsxs("form",{onSubmit:g(b),className:r.registerForm,children:[e.jsx(o,{id:m,label:"Name",type:"name",placeholder:"Name *",register:t("name"),error:i.name?.message}),e.jsx(o,{id:p,label:"E-mail",type:"email",placeholder:"Email *",register:t("email"),error:i.email?.message}),e.jsx(o,{id:u,label:"Password",type:"password",placeholder:"Password *",register:t("password"),error:i.password?.message}),d&&e.jsx("p",{className:r.authErrorMessage,children:d}),e.jsxs("div",{className:r.registerButtonWrapper,children:[e.jsx("button",{type:"submit",disabled:c,className:"btn-primary",children:c?"Loading...":"Register"}),e.jsx(I,{to:"/login",children:e.jsx("button",{type:"button",className:"btn-secondary",children:"Log in"})})]})]})]})})},z=()=>e.jsx(B,{});export{z as default};
